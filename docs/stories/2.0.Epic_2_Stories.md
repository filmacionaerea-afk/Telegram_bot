# Epic 2: Motor de Recolección y Almacenamiento de Datos

**Goal:** Implementar el servicio de recolección de datos completamente funcional, que se conectará a la API de datos, obtendrá las publicaciones y las persistirá en la base de datos SQLite.

## Story 2.1: Pre-carga de la Lista de Influencers
* **As a** system, **I need** to have an initial list of influencers in the database, **so that** the collection service knows which sources to pull data from.
* **Acceptance Criteria:**
    1.  A seeding script is created to read a predefined list of influencers.
    2.  The script populates the `Influencers` table in the SQLite database.
    3.  The script prevents duplicate entries.

## Story 2.2: Implementación del Servicio de Recolección de Datos
* **As a** developer, **I want** a new `collector` service within the monorepo, **so that** I can house all logic related to data extraction and storage.
* **Acceptance Criteria:**
    1.  A new `collector` application is created within the `apps/` directory.
    2.  The service has access to the central configuration and the database.
    3.  A main file (`index.ts`) is created as the entry point.

## Story 2.3: Extracción de Publicaciones para un Influencer
* **As a** collector service, **I want** to fetch the latest posts for a specific influencer via the data API, **so that** I can process and store the relevant information.
* **Acceptance Criteria:**
    1.  A function is created that queries the database for an influencer's profile.
    2.  The function makes an API call to request the posts for that profile.
    3.  The function handles successful and failed API responses correctly.

## Story 2.4: Persistencia de Publicaciones en la Base de Datos
* **As a** collector service, **I want** to save the fetched posts into the SQLite database, **so that** the data is permanently stored for later analysis.
* **Acceptance Criteria:**
    1.  A function is created that receives a list of posts and an `influencer_id`.
    2.  The function inserts each post into the `Posts` table, mapping all fields correctly.
    3.  The logic prevents the insertion of duplicate posts.

## Story 2.5: Orquestación del Proceso de Recolección
* **As a** collector service, **I want** a main script that orchestrates the entire process for all influencers, **so that** I can run a full collection cycle with a single command.
* **Acceptance Criteria:**
    1.  The main script reads the full list of influencers from the database.
    2.  The script iterates over each influencer, fetching and persisting their posts.
    3.  The script logs the progress and a final summary.

## Story 2.6: Programación del Cron Job de Recolección
* **As a** system, **I need** the collection process to run automatically at regular intervals, **so that** the database stays updated without manual intervention.
* **Acceptance Criteria:**
    1.  A cron job library is added.
    2.  The main script is scheduled to run based on the `DATA_FETCH_INTERVAL` environment variable.
